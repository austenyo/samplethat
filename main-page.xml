<Page loaded="pageLoaded">
    <Page.actionBar>
        <ActionBar title="SampleThat" backgroundColor="#3F51B5" color="#fff">
                <ActionBar.actionItems>
                    <ActionItem text="New" color="white" tap="{{ insert }}" ios.position="right" android.position="right"/>
                </ActionBar.actionItems>
        </ActionBar>>
    </Page.actionBar>
    <RadSideDrawer>
        <StackLayout class="sideStackLayout">
            <StackLayout class="sideTitleStackLayout">
                <Label text="Menu"></Label>
            </StackLayout>
            <ScrollView>
                <StackLayout class="sideStackLayout" items="{{ lists }}">
                    <button class="btn btn-primary btn-rounded-sm" text="Edit"  />
                    <button class="btn btn-primary btn-rounded-sm" text="Color" />
        </StackLayout>
        </ScrollView>
        </StackLayout>
    <TabView tabsBackgroundColor="#3F51B5" selectedColor="#FF4081">
        <TabView.items>
            <TabViewItem title="RECORDER">
                <TabViewItem.view>
                    <StackLayout orientation="vertical" width="210" height="210" style.backgroundColor="lightgray">
                            <ActivityIndicator color="#3489db" busy="{{ isRecording }}" />
                            <button class="btn btn-primary btn-rounded-sm" text="Start Recording" tap="{{ startRecord }}" />
                            <button class="btn btn-primary btn-rounded-sm" text="Stop Recording" tap="{{ stopRecord }}" />
                            <button class="btn btn-primary btn-rounded-sm" text="Get File" tap="{{ getFile }}" />
                            <button class="btn btn-primary btn-rounded-sm" text="Play Recorded" tap="{{ playRecordedFile }}" />
                            <button class="btn btn-primary btn-rounded-sm" text="Stop Playback" tap="{{ pauseAudio }}" />
                            <label text="{{ recordedAudioFile }}" class="gray" textWrap="true" />
                    </StackLayout>>
                </TabViewItem.view>
            </TabViewItem>
            <!--<TabViewItem title="PLAYER">
                <TabViewItem.view>
                        <StackLayout>
                            <button class="btn btn-primary btn-rounded-sm" text="Play Remote Audio" tap="{{ playRemoteFile }}" />
                            <label class="blue center" text="Welcome To Fight Club!" textWrap="true" />
                            <label text="REMINDER: Remote files can have a lag before playing due to processing and network speeds." class="h3" textWrap="true" />
                            <button class="btn btn-primary btn-rounded-sm" text="Play Local File" tap="{{ playLocalFile }}" />
                            <label class="blue h3 text-center" text="Angel - Theory of a Deadman" textWrap="true" />
                            <Button class="btn btn-primary btn-rounded-sm" text="Pause" tap="{{ pauseAudio }}" />
                            <Button class="btn btn-primary btn-rounded-sm" text="Resume" tap="{{ resumePlayer }}" />
                            <button class="btn btn-primary btn-rounded-sm" text="Stop" tap="{{ stopPlaying }}" />
                            <Slider id="slider" minValue="0" maxValue="100" value="100" />
                        </StackLayout>
                </TabViewItem.view>
            </TabViewItem>-->
            <TabViewItem title="Folders">
                <TabViewItem.view>
                    <ScrollView>

                        <RadListView id="radlistview" items="{{ lists }}" itemSwipe="true" pullToRefresh="true" pullToRefreshInitiated ="onPullToRefreshInitiated($event)">

                        <RadListView.itemTemplate>
                            <AbsoluteLayout>
                                <StackLayout class="info">
                                    <Label id="files" tap="{{ changeFolder}}" text="{{ list_name }}" class="primary"/>
                                </StackLayout>
                            </AbsoluteLayout>
                        </RadListView.itemTemplate>
                        </RadListView>
                    </ScrollView>
                    <!--<ListView items="{{ lists }}">
                        <ListView.itemTemplate>
                            <StackLayout>
                                <Label text="{{ list_name }}"></Label>>
                            </StackLayout>
                        </ListView.itemTemplate>
                    </ListView>-->
                </TabViewItem.view>
            </TabViewItem>
        </TabView.items>
    </TabView>
</RadSideDrawer>
</Page>